# Root where all datasets live (each containing seg_legacy/)
legacy_root: "/HDD/data/relabelling-project"

# Where your rrwnet get_predictions.py lives (external dependency)
rrwnet:
  # Path to RRWNet get_predictions.py on *your* machine
  script: "/SSD/home/gabriel/rrwnet/clone/get_predictions.py"
  python: "python3"

# Weights shipped in this repo (relative paths)
weights:
  "1024": "data/weights/rrwnet_HRF_0.pth"
  "576": "data/weights/rrwnet_RITE_refinement.pth"

# Optional: only consider datasets whose top folder name is in this list
datasets:
  - "Fundus-AVSeg"
  - "FIVES"
  - "leuven-haifa"

resolutions: ["576", "1024"]
k_range: [3, 9] 
refine_datasets:
  - "Fundus-AVSeg"
  - "FIVES"
  - "leuven-haifa"

metrics:
  out_dir: "results/metrics"

  # Only these datasets will be evaluated by default
  av_gt_datasets:
    - "Fundus-AVSeg"
    - "leuven-haifa"

  exclude_splits:
    leuven-haifa:
      - test
      - val

ground_truth:
  enabled: true
  # Set enabled: true once you have configured the patterns below.
  # root: "/path/to/where/GTs/live"   # defaults to legacy_root if omitted

  av_rgb:
    datasets:
      Fundus-AVSeg:
        # Example: GTs stored in a single folder
        pattern: "Fundus-AVSeg/annotation/{sample}.png"
        mapping:
          - [[255, 0, 0], [255, 0, 255]]
          - [[0, 0, 255], [0, 255, 255]]
          - [[0, 255, 0], [255, 255, 255]]
          - [[255, 255, 255], [0, 0, 255]]

      leuven-haifa:
        # Multiple subfolders; keep them separate via {other_dir}
        pattern: "leuven-haifa/{other_dir}/label/{sample}.png"
        mapping:
          - [[255, 0, 0], [255, 0, 255]]
          - [[0, 0, 255], [0, 255, 255]]
          - [[255, 0, 255], [255, 255, 255]]
          - [[255, 255, 255], [0, 0, 255]]

  vessel_gray:
    datasets:
      FIVES:
        pattern: "FIVES/{other_dir}/ground_truth/{sample}.png"


labels_out_root: "results/refined_labels"

refined_to_labels:
  tb: 100
  th: 200
  delta: 15
  tie_vote: 1

vascx:
  refined_features_enabled: true
  unrefined_features_enabled: true
  dataset_view_root: "results/vascx_datasets"
  dataset_unrefined_root: "results/vascx_datasets_unrefined"
  features_refined_out: "results/vascx_features_refined"
  features_unrefined_out: "results/vascx_features_unrefined"
  n_jobs: 64
  feature_set: "bergmann"
  av_subfolder: "av"
